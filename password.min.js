/**
 * @author Ã’scar Casajuana a.k.a. elboletaire <elboletaire at underave dot net>
 * @link https://github.com/elboletaire/password-strength-meter
 */
!function(e){"use strict";var s=function(s,r){function a(e){switch(e){case-7:return r.notEnoughChars;case-6:return r.notEnoughSymbols;case-5:return r.notEnoughUpperChars;case-4:return r.notEnoughLowerChars;case-3:return r.notEnoughNumbers;case-2:return r.containsUsername;case-1:return r.shortPass;default:if(r.customSteps){var s=r.badPass;for(var a in r.customSteps)e>=a&&(s=r.customSteps[a]);return s}return e<34?r.badPass:e<68?r.goodPass:r.strongPass}}function n(e,s){var a=0;if(!(e.length>=r.minimumLength))return-1;if(a+=4*e.length,a+=o(1,e).length-e.length,a+=o(2,e).length-e.length,a+=o(3,e).length-e.length,a+=o(4,e).length-e.length,r.username){if(e.toLowerCase()===s.toLowerCase())return-2;if(r.usernamePartialMatch&&s.length){var n=new RegExp(s.toLowerCase());if(e.toLowerCase().match(n))return-2}}var i=t(e,"[0-9]",r.minimumNumbers);if(i<0)return-3;i>0&&(a+=5);var h=t(e,"[a-z]",r.minimumLowerChars);if(h<0)return-4;var u=t(e,"[A-Z]",r.minimumUpperChars);if(u<0)return-5;var m=t(e,"[!,@,#,$,%,^,&,*,?,_,~]",r.minimumSymbols);if(m<0)return-6;m>0&&(a+=5);var l=u+h;return l<r.minimumChars?-7:(u*h>0&&(a+=10),a+=i*l>0?15:-10,i*m>0&&(a+=15),l*m>0&&(a+=15),a>100&&(a=100),a<0&&(a=0),a)}function t(e,s,r){var a=((e||"").match(new RegExp(s,"g"))||[]).length;return a>=r?a:-1}function o(e,s){for(var r="",a=!1,n=0;n<s.length;n++){a=!0;for(var t=0;t<e&&t+n+e<s.length;t++)a=a&&s.charAt(t+n)===s.charAt(t+n+e);t<e&&(a=!1),a?(n+=e-1,a=!1):r+=s.charAt(n)}return r}function i(){var t=!0,o=r.showText,i=r.showPercent,h=e("<div>").addClass("pass-graybar"),u=e("<div>").addClass("pass-colorbar"),m=e("<div>").addClass("pass-wrapper").append(h.append(u));return s.parent().addClass("pass-strength-visible"),r.animate&&(m.css("display","none"),t=!1,s.parent().removeClass("pass-strength-visible")),r.showPercent&&(i=e("<span>").addClass("pass-percent").text("0%"),m.append(i)),r.showText&&(o=e("<span>").addClass("pass-text").html(r.enterPass),m.append(o)),s.after(m),s.keyup(function(){var t=r.username||"";t&&(t=e(t).val());var h=n(s.val(),t);s.trigger("password.score",[h]);var m=h<0?0:h;if(u.css({backgroundPosition:"0px -"+m+"px",width:m+"%"}),r.showPercent&&i.html(m+"%"),r.showText){var l=a(h);!s.val().length&&h<=0&&(l=r.enterPass),o.html()!==e("<div>").html(l).html()&&(o.html(l),s.trigger("password.text",[l,h]))}}),r.animate&&(s.focus(function(){t||m.slideDown(r.animateSpeed,function(){t=!0,s.parent().addClass("pass-strength-visible")})}),s.blur(function(){!s.val().length&&t&&m.slideUp(r.animateSpeed,function(){t=!1,s.parent().removeClass("pass-strength-visible")})})),this}var h={badPass:"Weak; try combining letters & numbers",goodPass:"Medium; try using special characters",strongPass:"Strong password",enterPass:"Type your password",showPercent:!1,showText:!0,animate:!0,animateSpeed:"fast",username:!1,usernamePartialMatch:!0,containsUsername:"The password contains the username",minimumLength:4,shortPass:"The password is too short",minimumNumbers:0,notEnoughNumbers:"The Password needs at least 0 numbers",minimumSymbols:0,notEnoughSymbols:"The Password needs at least 0 symbols",minimumLowerChars:0,notEnoughLowerChars:"The Password needs at least 0 lower chars",minimumUpperChars:0,notEnoughUpperChars:"The Password needs at least 0 upper chars",minimumChars:1,notEnoughChars:"The Password needs at least 1 chars"};return r=e.extend({},h,r),i.call(this)};e.fn.password=function(r){return this.each(function(){new s(e(this),r)})}}(jQuery);